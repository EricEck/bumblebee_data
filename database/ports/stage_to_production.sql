# Empty all target database tables EXCEPT `migrations`, `password_resets`, `personal_access_tokens`  and `failed_jobs`
delete from `bumblebee_einstein`.`addresses` where id >= 0;
delete from `bumblebee_einstein`.`bodies_of_waters` where id >= 0;
delete from `bumblebee_einstein`.`bow_component_locations` where id >= 0;
delete from `bumblebee_einstein`.`bow_components` where id >= 0;
delete from `bumblebee_einstein`.`bow_location_types` where id >= 0;
delete from `bumblebee_einstein`.`bumblebees` where id >= 0;
delete from `bumblebee_einstein`.`calibrations` where id >= 0;
delete from `bumblebee_einstein`.`component_manufacturers` where id >= 0;
delete from `bumblebee_einstein`.`construction_types` where id >= 0;
delete from `bumblebee_einstein`.`countries` where id >= 0;
delete from `bumblebee_einstein`.`elliptic_manufacturers` where id >= 0;
delete from `bumblebee_einstein`.`elliptic_members` where id >= 0;
delete from `bumblebee_einstein`.`elliptic_models` where id >= 0;
delete from `bumblebee_einstein`.`elliptic_products` where id >= 0;
delete from `bumblebee_einstein`.`filtration_types` where id >= 0;
delete from `bumblebee_einstein`.`measurements` where id >= 0;
delete from `bumblebee_einstein`.`permission_role` where permission_role.permission_id >= 0;
delete from `bumblebee_einstein`.`permission_user` where permission_id >= 0;
delete from `bumblebee_einstein`.`permissions` where id >= 0;
delete from `bumblebee_einstein`.`pool_metrics` where id >= 0;
delete from `bumblebee_einstein`.`pool_owners` where id >= 0;
delete from `bumblebee_einstein`.`role_user` where role_user.role_id >= 0;
delete from `bumblebee_einstein`.`roles` where id >= 0;
delete from `bumblebee_einstein`.`service_companies` where id >= 0;
delete from `bumblebee_einstein`.`service_company_employees` where id >= 0;
delete from `bumblebee_einstein`.`service_company_locations` where id >= 0;
delete from `bumblebee_einstein`.`states` where id >= 0;
delete from `bumblebee_einstein`.`users` where id >= 0;

# Copy non-duplicate rows from staging to production
insert ignore `bumblebee_einstein`.`addresses` select * from `bumblebee_einstein_stg`.`addresses`;
insert ignore `bumblebee_einstein`.`bodies_of_waters` select * from `bumblebee_einstein_stg`.`bodies_of_waters`;
insert ignore `bumblebee_einstein`.`bow_component_locations` select * from `bumblebee_einstein_stg`.`bow_component_locations`;
insert ignore `bumblebee_einstein`.`bow_components` select * from `bumblebee_einstein_stg`.`bow_components`;
insert ignore `bumblebee_einstein`.`bow_location_types` select * from `bumblebee_einstein_stg`.`bow_location_types`;
insert ignore `bumblebee_einstein`.`bumblebees` select * from `bumblebee_einstein_stg`.`bumblebees`;
insert ignore `bumblebee_einstein`.`calibrations` select * from `bumblebee_einstein_stg`.`calibrations`;
insert ignore `bumblebee_einstein`.`component_manufacturers` select * from `bumblebee_einstein_stg`.`component_manufacturers`;
insert ignore `bumblebee_einstein`.`construction_types` select * from `bumblebee_einstein_stg`.`construction_types`;
insert ignore `bumblebee_einstein`.`countries` select * from `bumblebee_einstein_stg`.`countries`;
insert ignore `bumblebee_einstein`.`elliptic_manufacturers` select * from `bumblebee_einstein_stg`.`elliptic_manufacturers`;
insert ignore `bumblebee_einstein`.`elliptic_members` select * from `bumblebee_einstein_stg`.`elliptic_members`;
insert ignore `bumblebee_einstein`.`elliptic_models` select * from `bumblebee_einstein_stg`.`elliptic_models`;
insert ignore `bumblebee_einstein`.`elliptic_products` select * from `bumblebee_einstein_stg`.`elliptic_products`;
insert ignore `bumblebee_einstein`.`filtration_types` select * from `bumblebee_einstein_stg`.`filtration_types`;
insert ignore `bumblebee_einstein`.`measurements` select * from `bumblebee_einstein_stg`.`measurements`;
insert ignore `bumblebee_einstein`.`permission_role` select * from `bumblebee_einstein_stg`.`permission_role`;
insert ignore `bumblebee_einstein`.`permission_user` select * from `bumblebee_einstein_stg`.`permission_user`;
insert ignore `bumblebee_einstein`.`permissions` select * from `bumblebee_einstein_stg`.`permissions`;
insert ignore `bumblebee_einstein`.`pool_metrics` select * from `bumblebee_einstein_stg`.`pool_metrics`;
insert ignore `bumblebee_einstein`.`pool_owners` select * from `bumblebee_einstein_stg`.`pool_owners`;
insert ignore `bumblebee_einstein`.`role_user` select * from `bumblebee_einstein_stg`.`role_user`;
insert ignore `bumblebee_einstein`.`roles` select * from `bumblebee_einstein_stg`.`roles`;
insert ignore `bumblebee_einstein`.`service_companies` select * from `bumblebee_einstein_stg`.`service_companies`;
insert ignore `bumblebee_einstein`.`service_company_employees` select * from `bumblebee_einstein_stg`.`service_company_employees`;
insert ignore `bumblebee_einstein`.`service_company_locations` select * from `bumblebee_einstein_stg`.`service_company_locations`;
insert ignore `bumblebee_einstein`.`states` select * from `bumblebee_einstein_stg`.`states`;
insert ignore `bumblebee_einstein`.`users` select * from `bumblebee_einstein_stg`.`users`;
